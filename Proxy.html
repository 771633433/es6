<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
	<title>Proxy</title>
</head>
<body>
<!--  
	Proxy 用于修改某些操作的默认行为，等同于在语言层面做出修改，所以属于一种“元编程”（meta programming），即对编程语言进行编程。	
-->

<!--
	Proxy 可以理解成，在目标对象之前架设一层“拦截”，外界对该对象的访问，都必须先通过这层拦截，因此提供了一种机制，可以对外界的访问进行过滤和改写。Proxy 这个词的原意是代理，用在这里表示由它来“代理”某些操作，可以译为“代理器”。
-->
	<script type="text/javascript">
	function test01(){
		var obj=new Proxy({},{
			get(target,key,receiver){
				console.log(`getting ${key}!`);
				return Reflect.get(target,key,receiver);
			},
			set(target,key,value,receiver){
				console.log(`setting ${key}!`);
				return Reflect.set(target,key,value,receiver);
			}
			/*
				上面代码对一个空对象架设了一层拦截，重定义了属性的读取（get）和设置（set）行为。这里暂时先不解释具体的语法，只看运行结果。对设置了拦截行为的对象obj，去读写它的属性，就会得到下面的结果。
			*/
		})
		obj.count=1;  // setting count !
		++obj.count;  // geting count !
					  // setting count !
		console.log(obj.count); // 2
	}
		test01();
	</script>
</body>
</html>
